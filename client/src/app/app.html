<div class="toolbar" (mousedown)="$event.stopPropagation()" (click)="$event.stopPropagation()">
  <span class="toolbar-brand">Measure</span>
  <div class="toolbar-actions">
    <button type="button" (click)="setDrawMode('LineString')">Draw Line</button>
    <button type="button" (click)="setDrawMode('Polygon')">Draw Polygon</button>
    <button type="button" class="btn-finish" (click)="finishDrawing()">Finish</button>
    <button type="button" class="btn-reset" (click)="reset()">Reset</button>
    <button type="button" class="btn-clear-db" (click)="clearDatabase()">Clear database</button>
    <button type="button" class="btn-download" (click)="downloadData()">Download</button>
  </div>
  <span class="info">{{ lastInfo ?? 'â€”' }}</span>
</div>
<p class="hint">Draw on the map (double-click to finish a line; click first point to close a polygon). Only when you click <strong>Finish</strong> are data saved to the database; if you do not press Finish, nothing is saved. After saving, use <strong>Download</strong> to get your data as JSON. <strong>Reset</strong> clears unsaved drawings only. <strong>Clear database</strong> removes all saved measurements.</p>

<div id="map" class="map"></div>
